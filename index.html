<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Gallery - Copy to Figma</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafc;
            color: #1a1a1a;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .component-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .component-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #18a0fb;
        }

        .component-preview {
            height: 200px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 1px solid #e9ecef;
        }

        .component-content {
            padding: 20px;
        }

        .component-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #1a1a1a;
        }

        .component-description {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .component-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            font-size: 12px;
            color: #888;
        }

        .copy-button {
            width: 100%;
            background: linear-gradient(45deg, #18a0fb, #1e88e5);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .copy-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(24, 160, 251, 0.3);
        }

        .copy-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .copy-button.success {
            background: linear-gradient(45deg, #4caf50, #45a049);
        }

        .copy-button .icon {
            margin-right: 8px;
        }

        /* Componente específico styles */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-secondary {
            background: white;
            color: #333;
            border: 2px solid #e0e0e0;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .input-field {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #18a0fb;
        }

        .card-sample {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 200px;
        }

        .badge {
            background: #18a0fb;
            color: white;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: #f44336;
        }

        .instructions {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .instructions h3 {
            color: #1a1a1a;
            margin-bottom: 16px;
            font-size: 20px;
        }

        .step {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .step-number {
            background: #18a0fb;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            margin-right: 12px;
        }

        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🎨 Component Gallery</h1>
        <p>Copy componentes direto para o Figma</p>
    </div>

    <div class="container">
        <div class="instructions">
            <h3>📋 Como usar:</h3>
            <div class="step">
                <span class="step-number">1</span>
                Clique em "Copy to Figma" no componente desejado
            </div>
            <div class="step">
                <span class="step-number">2</span>
                Abra o Figma no seu navegador
            </div>
            <div class="step">
                <span class="step-number">3</span>
                Pressione <strong>Ctrl+V</strong> (ou Cmd+V no Mac)
            </div>
            <div class="step">
                <span class="step-number">4</span>
                Edite o componente como qualquer elemento nativo do Figma!
            </div>
        </div>

        <div class="gallery-grid" id="componentGallery">
            <!-- Os componentes serão inseridos aqui via JavaScript -->
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Database de componentes (aqui você colocaria os dados dos seus frames do Figma)
        const components = [
            {
                id: 'btn-primary',
                name: 'Primary Button',
                description: 'Botão principal com gradiente e hover effects',
                category: 'Buttons',
                width: 160,
                height: 48,
                figmaData: {
                    type: "COMPONENT",
                    name: "Primary Button",
                    width: 160,
                    height: 48,
                    fills: [{
                        type: "GRADIENT_LINEAR",
                        gradientStops: [
                            {color: {r: 0.4, g: 0.494, b: 0.918}, position: 0},
                            {color: {r: 0.463, g: 0.294, b: 0.635}, position: 1}
                        ]
                    }],
                    cornerRadius: 8,
                    children: [{
                        type: "TEXT",
                        characters: "Primary Button",
                        fontSize: 14,
                        fontName: {family: "Inter", style: "SemiBold"},
                        fills: [{type: "SOLID", color: {r: 1, g: 1, b: 1}}]
                    }]
                },
                preview: '<button class="btn-primary">Primary Button</button>'
            },
            {
                id: 'btn-secondary',
                name: 'Secondary Button',
                description: 'Botão secundário com border e hover',
                category: 'Buttons',
                width: 160,
                height: 48,
                figmaData: {
                    type: "FRAME",
                    name: "Secondary Button",
                    width: 160,
                    height: 48,
                    fills: [{type: "SOLID", color: {r: 1, g: 1, b: 1}}],
                    strokes: [{type: "SOLID", color: {r: 0.875, g: 0.875, b: 0.875}}],
                    strokeWeight: 2,
                    cornerRadius: 8,
                    children: [{
                        type: "TEXT",
                        characters: "Secondary Button",
                        fontSize: 14,
                        fontName: {family: "Inter", style: "Medium"},
                        fills: [{type: "SOLID", color: {r: 0.2, g: 0.2, b: 0.2}}]
                    }]
                },
                preview: '<button class="btn-secondary">Secondary Button</button>'
            },
            {
                id: 'input-field',
                name: 'Input Field',
                description: 'Campo de input com estados focus e placeholder',
                category: 'Forms',
                width: 280,
                height: 48,
                figmaData: {
                    type: "FRAME",
                    name: "Input Field",
                    width: 280,
                    height: 48,
                    fills: [{type: "SOLID", color: {r: 1, g: 1, b: 1}}],
                    strokes: [{type: "SOLID", color: {r: 0.875, g: 0.875, b: 0.875}}],
                    strokeWeight: 2,
                    cornerRadius: 8,
                    children: [{
                        type: "TEXT",
                        characters: "Enter your email...",
                        fontSize: 14,
                        fontName: {family: "Inter", style: "Regular"},
                        fills: [{type: "SOLID", color: {r: 0.6, g: 0.6, b: 0.6}}]
                    }]
                },
                preview: '<input class="input-field" placeholder="Enter your email..." />'
            },
            {
                id: 'card',
                name: 'Card Component',
                description: 'Card com shadow e border radius',
                category: 'Layout',
                width: 200,
                height: 120,
                figmaData: {
                    type: "FRAME",
                    name: "Card Component",
                    width: 200,
                    height: 120,
                    fills: [{type: "SOLID", color: {r: 1, g: 1, b: 1}}],
                    cornerRadius: 12,
                    effects: [{
                        type: "DROP_SHADOW",
                        color: {r: 0, g: 0, b: 0, a: 0.1},
                        offset: {x: 0, y: 2},
                        radius: 8
                    }],
                    children: [{
                        type: "TEXT",
                        characters: "Card Title",
                        fontSize: 16,
                        fontName: {family: "Inter", style: "SemiBold"},
                        fills: [{type: "SOLID", color: {r: 0.1, g: 0.1, b: 0.1}}]
                    }]
                },
                preview: '<div class="card-sample"><h4>Card Title</h4><p>Card content here</p></div>'
            },
            {
                id: 'badge',
                name: 'Badge',
                description: 'Badge para status, tags e labels',
                category: 'Indicators',
                width: 80,
                height: 28,
                figmaData: {
                    type: "FRAME",
                    name: "Badge",
                    width: 80,
                    height: 28,
                    fills: [{type: "SOLID", color: {r: 0.094, g: 0.627, b: 0.984}}],
                    cornerRadius: 16,
                    children: [{
                        type: "TEXT",
                        characters: "Badge",
                        fontSize: 12,
                        fontName: {family: "Inter", style: "Medium"},
                        fills: [{type: "SOLID", color: {r: 1, g: 1, b: 1}}]
                    }]
                },
                preview: '<span class="badge">Badge</span>'
            }
        ];

        // Função para gerar SVG do componente
        function generateComponentSVG(component) {
            const { width, height, figmaData } = component;
            
            // Converter dados do Figma para SVG
            let svgContent = `<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}" xmlns="http://www.w3.org/2000/svg">`;
            
            // Background do frame
            const fill = figmaData.fills?.[0];
            let fillColor = 'white';
            
            if (fill?.type === 'SOLID') {
                const {r, g, b} = fill.color;
                fillColor = `rgb(${Math.round(r*255)}, ${Math.round(g*255)}, ${Math.round(b*255)})`;
            } else if (fill?.type === 'GRADIENT_LINEAR') {
                const stops = fill.gradientStops.map(stop => {
                    const {r, g, b} = stop.color;
                    return `rgb(${Math.round(r*255)}, ${Math.round(g*255)}, ${Math.round(b*255)}) ${stop.position * 100}%`;
                }).join(', ');
                fillColor = `linear-gradient(135deg, ${stops})`;
                
                // Para SVG, precisamos usar defs
                svgContent += `
                <defs>
                    <linearGradient id="grad${component.id}" x1="0%" y1="0%" x2="100%" y2="100%">
                        ${fill.gradientStops.map((stop, i) => {
                            const {r, g, b} = stop.color;
                            return `<stop offset="${stop.position * 100}%" style="stop-color:rgb(${Math.round(r*255)}, ${Math.round(g*255)}, ${Math.round(b*255)})"/>`;
                        }).join('')}
                    </linearGradient>
                </defs>`;
                fillColor = `url(#grad${component.id})`;
            }
            
            // Stroke
            let strokeProps = '';
            if (figmaData.strokes?.length > 0) {
                const stroke = figmaData.strokes[0];
                const {r, g, b} = stroke.color;
                const strokeColor = `rgb(${Math.round(r*255)}, ${Math.round(g*255)}, ${Math.round(b*255)})`;
                strokeProps = `stroke="${strokeColor}" stroke-width="${figmaData.strokeWeight || 1}"`;
            }
            
            // Rect principal
            const cornerRadius = figmaData.cornerRadius || 0;
            svgContent += `<rect width="${width}" height="${height}" fill="${fillColor}" ${strokeProps} rx="${cornerRadius}"/>`;
            
            // Adicionar texto se existir
            if (figmaData.children?.length > 0) {
                const textChild = figmaData.children.find(child => child.type === 'TEXT');
                if (textChild) {
                    const textFill = textChild.fills?.[0];
                    let textColor = 'black';
                    if (textFill?.type === 'SOLID') {
                        const {r, g, b} = textFill.color;
                        textColor = `rgb(${Math.round(r*255)}, ${Math.round(g*255)}, ${Math.round(b*255)})`;
                    }
                    
                    svgContent += `
                    <text x="${width/2}" y="${height/2}" 
                          text-anchor="middle" 
                          dominant-baseline="middle" 
                          fill="${textColor}" 
                          font-size="${textChild.fontSize || 14}" 
                          font-weight="${textChild.fontName?.style === 'SemiBold' ? '600' : textChild.fontName?.style === 'Medium' ? '500' : '400'}"
                          font-family="Inter, sans-serif">
                        ${textChild.characters}
                    </text>`;
                }
            }
            
            // Adicionar metadata para o Figma
            svgContent += `
            <metadata>
                <figma:component name="${figmaData.name}" data='${JSON.stringify(figmaData)}'/>
            </metadata>
            </svg>`;
            
            return svgContent;
        }

        // Função para copiar componente
        async function copyComponent(componentId) {
            const component = components.find(c => c.id === componentId);
            const button = document.querySelector(`[data-component="${componentId}"] .copy-button`);
            const originalText = button.innerHTML;
            
            try {
                button.disabled = true;
                button.innerHTML = '<span class="icon">⏳</span> Gerando...';
                
                // Gerar SVG
                const svgContent = generateComponentSVG(component);
                
                button.innerHTML = '<span class="icon">📋</span> Copiando...';
                
                // Copiar para clipboard
                await navigator.clipboard.writeText(svgContent);
                
                button.innerHTML = '<span class="icon">✅</span> Copiado!';
                button.classList.add('success');
                
                showToast(`✅ ${component.name} copiado! Cole no Figma com Ctrl+V`, 'success');
                
            } catch (error) {
                showToast(`❌ Erro ao copiar ${component.name}`, 'error');
                console.error('Erro:', error);
            } finally {
                setTimeout(() => {
                    button.disabled = false;
                    button.innerHTML = originalText;
                    button.classList.remove('success');
                }, 3000);
            }
        }

        // Função para mostrar toast
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 5000);
        }

        // Renderizar galeria
        function renderGallery() {
            const gallery = document.getElementById('componentGallery');
            
            gallery.innerHTML = components.map(component => `
                <div class="component-card" data-component="${component.id}">
                    <div class="component-preview">
                        ${component.preview}
                    </div>
                    <div class="component-content">
                        <h3 class="component-title">${component.name}</h3>
                        <p class="component-description">${component.description}</p>
                        <div class="component-meta">
                            <span>📁 ${component.category}</span>
                            <span>📐 ${component.width}×${component.height}</span>
                        </div>
                        <button class="copy-button" onclick="copyComponent('${component.id}')">
                            <span class="icon">📋</span>
                            Copy to Figma
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            renderGallery();
            
            // Verificar suporte
            if (!navigator.clipboard) {
                showToast('⚠️ Clipboard API limitada. Use HTTPS para melhor funcionamento.', 'error');
            }
        });

        console.log('🎨 Component Gallery carregada');
        console.log('💡 Componentes disponíveis:', components.length);
    </script>
</body>
</html>